<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>QM: Working with Diagrams</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="doxygen-awesome-darkmode-toggle.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
  $(document).ready(function() { init_search(); });
/* @license-end */
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="ql-awesome.css" rel="stylesheet" type="text/css"/>
<link href="qm.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
  <div id="projectlogo">
    <a href="https://www.state-machine.com" title="Quantum Leaps"><img alt="Logo" src="logo_ql.png"/></a>
  </div>
   <div id="projectname">
    <doxygen-awesome-dark-mode-toggle id="dark-mode-toggle" title="Toggle Light/Dark Mode"></doxygen-awesome-dark-mode-toggle>
    QM
    &nbsp;<span id="projectnumber">5.1.3</span>
   </div>
   <div id="projectbrief">Model-Based Design Tool</div>
   <div style="padding: 0.5em;">        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.svg"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)"
               onblur="searchBox.OnSearchFieldFocus(false)"
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.svg" alt=""/></a>
          </span>
        </div>
</div>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;"
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('bm_diagram.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0"
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">Working with Diagrams </div></div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><li class="level1"><a href="#bm_diagram_open">Opening a Diagram</a></li>
<li class="level1"><a href="#bm_diagram_close">Closing a Diagram</a></li>
<li class="level1"><a href="#bm_diagram_canvas">The Drawing Canvas</a></li>
<li class="level1"><a href="#bm_diagram_grid">The Grid</a></li>
<li class="level1"><a href="#bm_diagram_shape_select">Selecting Diagram Shapes</a><ul><li class="level2"><a href="#bm_diagram_shape_select-lasso">Selecting Shapes with the Lasso</a></li>
<li class="level2"><a href="#bm_diagram_shape_select-mouse">Selecting Shapes with the Mouse-Toggle</a></li>
</ul>
</li>
<li class="level1"><a href="#bm_diagram_pan">Panning Diagrams</a></li>
<li class="level1"><a href="#bm_diagram_scroll">Scrolling Diagrams</a><ul><li class="level2"><a href="#bm_diagram_scroll_with_keyboard">Scrolling with the Keyboard</a></li>
<li class="level2"><a href="#bm_diagram_scroll_with_wheel">Scrolling with the Mouse Wheel</a></li>
</ul>
</li>
<li class="level1"><a href="#bm_diagram_zoom">Zooming Diagrams</a><ul><li class="level2"><a href="#bm_diagram_zoom_with_status">Zooming with the Status Bar</a></li>
<li class="level2"><a href="#bm_diagram_zoom_with_menu">Zooming with the View Menu</a></li>
<li class="level2"><a href="#bm_diagram_zoom_with_keyboard">Zooming with the Keyboard</a></li>
<li class="level2"><a href="#bm_diagram_zoom_with_wheel">Zooming with the Mouse Wheel</a></li>
</ul>
</li>
<li class="level1"><a href="#bm_diagram_export">Exporting Diagrams</a><ul><li class="level2"><a href="#bm_diagram_export-file">Exporting Active Diagram to a Graphic File</a></li>
<li class="level2"><a href="#bm_diagram_export-Clipboard">Copying active diagram to the Clipboard in SVG</a></li>
</ul>
</li>
</ul>
</div>
<div class="textblock"><p >In order to work with a diagram, you must first create it. For example, to create a State Machine diagram (Statechart), please refer to Section <a class="el" href="sm_statechart.html#sm_add">Adding a Statechart</a>. </p>
<dl class="section note"><dt>Note</dt><dd>Currently QM&trade; supports only State Diagrams, but it might support other diagram types in the future. This section describes generic operations applicable to any diagram type.</dd></dl>
<div style="clear:both;"></div><h1><a class="anchor" id="bm_diagram_open"></a>
Opening a Diagram</h1>
<p >Once a diagram exists, you have two options of opening it. First option is to <b>double</b>-click on the diagram item in the <a class="el" href="ui_explorer.html">Model Explorer</a> to trigger its default action, which is to show the diagram.</p>
<p >Alternatively, you can <b>right</b>-click on the diagram in the <a class="el" href="ui_explorer.html">Model Explorer</a> to launch the popup menu associated with the diagram, and then choosing the first action from this menu, which is <span class="img diagrams">Show Diagram</span>.</p>
<div class="image">
<img src="diagram_open.png" alt=""/>
<div class="caption">
Opening a Diagram</div></div>
<h1><a class="anchor" id="bm_diagram_close"></a>
Closing a Diagram</h1>
<p ><img src="img/btn_close.png" alt="" style="float:left; margin-right:10px;" class="inline"/>To close a diagram, you click on the <span class="button">X</span> button in the top-right corner of the diagram window, or in the <a class="el" href="ui_mdi.html">MDI</a> tab (if you use the <a class="el" href="ui_mdi.html#ui_mdi_tabs">Tabs View</a> mode), as shown in the picture below.</p>
<div class="image">
<img src="diagram_close.png" alt=""/>
<div class="caption">
Closing a Diagram</div></div>
<p ><img src="img/keyboard.png" alt="" style="float:left; margin-right:10px;" class="inline"/>Alternatively, the current active <a class="el" href="ui_mdi.html">MDI</a> window can be closed by means of the keyboard shortcut: <b>Ctrl</b>-<span class="button">W</span>.</p>
<dl class="section note"><dt>Note</dt><dd>Closing a diagram does <b>not</b> delete the diagram, it merely hides the diagram window from view.</dd></dl>
<h1><a class="anchor" id="bm_diagram_canvas"></a>
The Drawing Canvas</h1>
<p >Every diagram in QM&trade; is drawn on the canvas, which is a rectangular background area behind the various shapes. Even though you can actually draw outside the canvas, QM&trade; will export to a graphic format (see <a class="el" href="bm_diagram.html#bm_diagram_export">Exporting Diagrams</a>) only the part of the diagram enclosed by the canvas.</p>
<p >As shown in the screen shot below, you can easily resize the Drawing Canvas by dragging its right or bottom edges, or by dragging the resize handle in the bottom-right corner of the canvas. In each case the mouse cursor indicates the possible direction of resizing.</p>
<div class="image">
<img src="bm_diagram-canvas.gif" alt=""/>
<div class="caption">
Resizing the Drawing Canvas</div></div>
<h1><a class="anchor" id="bm_diagram_grid"></a>
The Grid</h1>
<p >All elements of any QM&trade; diagram are aligned with the <b>grid</b>. You can position the diagram nodes and route the connectors <b>only</b> along the grid nodes, and in fact, the geometry of any shape is stored in the grid coordinates, so you cannot achieve any finer positioning granularity than the grid size, which is currently 8 pixels horizontally and 8 pixels vertically.</p>
<p >However, even though you cannot remove the alignment of all shapes to the grid, you can show or hide the grid dots in the diagram. You show or hide the grid by means of the "Grid Options" selection in the <a class="el" href="ui_menus.html#ui_menu_view">View Menu</a>, or by means of the grid drop-box (<span class="img grid">grid</span>) in the <a class="el" href="ui_toolbars.html#ui_toolbar_view">View Toolbar</a>.</p>
<h1><a class="anchor" id="bm_diagram_shape_select"></a>
Selecting Diagram Shapes</h1>
<p >Typically, when you simply click on a shape in a diagram you <b>select</b> that shape and clear any previous selection, so that only one shape is selected at a time. The model item corresponding to the selected shape becomes <a class="el" href="ui_curr_item.html">Current Item</a>.</p>
<p >However, QM&trade; also offers you the convenience of selecting and manipulating <b>multiple shapes</b> simultaneously. QM&trade; provides two options of selecting multiple diagram shapes: the <b>lasso</b> tool and mouse <b>selection-toggle</b>. These two methods can be combined to fine-tune the selection.</p>
<h2><a class="anchor" id="bm_diagram_shape_select-lasso"></a>
Selecting Shapes with the Lasso</h2>
<p ><img src="img/cur_select0.png" alt="" class="left" class="inline"/> To select shapes with the lasso, press the <span class="button">Ctrl</span> key on your keyboard, at which point the mouse cursor changes to a hand-pointer.</p>
<p ><img src="img/cur_select.png" alt="" class="left" class="inline"/> When you press the left mouse button, the cursor changes to a hand-pointer with a lasso and you can start dragging the lasso from that point.</p>
<div class="image">
<img src="bm_diagram-lasso.gif" alt=""/>
<div class="caption">
Selecting multiple shapes with a lasso</div></div>
<h2><a class="anchor" id="bm_diagram_shape_select-mouse"></a>
Selecting Shapes with the Mouse-Toggle</h2>
<p ><img src="img/cur_select0.png" alt="" class="left" class="inline"/> You can also select or deselect shapes with the mouse-toggle. You start exactly the same as for selecting with the lasso, that is by pressing the <span class="button">Ctrl</span> key on your keyboard, at which point the mouse cursor changes to a hand-pointer.</p>
<p ><img src="img/cur_select1.png" alt="" class="left" class="inline"/> Now you just hover the mouse over any shape (hover means just moving the mouse cursor without depressing any mouse buttons). Whenever you hover over an active part of a shape, the mouse cursor changes to a hand-pointer with "+". You can then click the left mouse button to select the shape, if it is not selected, or un-select it, if it was already selected.</p>
<div class="image">
<img src="bm_diagram-select.gif" alt=""/>
<div class="caption">
Selecting/deselecting shapes with mouse toggle</div></div>
<h1><a class="anchor" id="bm_diagram_pan"></a>
Panning Diagrams</h1>
<p ><img src="img/cur_pan.png" alt="" class="left" class="inline"/> To pan the diagram with the mouse, press the <span class="button">Shift</span> key. At this point the mouse cursor changes to the open hand:</p>
<p ><img src="img/cur_grab.png" alt="" class="left" class="inline"/> When you press the <b>left</b> mouse button, you "grab" the diagram and the cursor changes to closed hand:</p>
<p >Hold down the left mouse button and drag the whole diagram under the viewing window.</p>
<div class="image">
<img src="bm_diagram-pan.gif" alt=""/>
<div class="caption">
Panning a Diagram</div></div>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="ui_birds-eye.html">Bird's Eye View</a></dd></dl>
<h1><a class="anchor" id="bm_diagram_scroll"></a>
Scrolling Diagrams</h1>
<p >When the diagram window is smaller than the diagram canvas, QM&trade; displays scroll bars, which allow you to scroll the diagram horizontally and vertically.</p>
<div class="image">
<img src="scrolling.png" alt=""/>
<div class="caption">
Scrolling a Diagram</div></div>
<h2><a class="anchor" id="bm_diagram_scroll_with_keyboard"></a>
Scrolling with the Keyboard</h2>
<p ><img src="img/keyboard.png" alt="" style="float:left; margin-right:10px;" class="inline"/> You can scroll the diagram using the keyboard. As expected, the "up" key (<span class="img key_up">key-up</span>) scrolls the diagram up, the "down" key (<span class="img key_down">key-down</span>) scrolls the diagram down, the "left" key (<span class="img key_left">key-left</span>) scrolls the diagram left, and the "right" key (<span class="img key_right">key-right</span>) scrolls the diagram right.</p>
<h2><a class="anchor" id="bm_diagram_scroll_with_wheel"></a>
Scrolling with the Mouse Wheel</h2>
<p ><img src="img/wheel.png" alt="" style="float:left; margin-right:10px;" class="inline"/> You can also scroll the diagram using the mouse wheel. As expected, rotating the wheel forward scrolls the diagram down and rotating the wheel backward scrolls the diagram up. By pressing the <span class="button">Ctrl</span> key, you can also scroll the diagram <b>horizontally</b>. When the <span class="button">Ctrl</span> is pressed, rotating the wheel forward scrolls the diagram right and rotating the wheel backward scrolls the diagram left.</p>
<h1><a class="anchor" id="bm_diagram_zoom"></a>
Zooming Diagrams</h1>
<p >You can zoom a diagram in and out using several methods.</p>
<div class="image">
<img src="zoom.png" alt=""/>
<div class="caption">
Zooming a Diagram</div></div>
<h2><a class="anchor" id="bm_diagram_zoom_with_status"></a>
Zooming with the Status Bar</h2>
<p >You can zoom a diagram by clicking on the zoom buttons (<span class="img zoom_in">zoom-in</span>, <span class="img zoom_out">zoom-out</span>, and <span class="img zoom_100">zoom to 100%</span>) in the <a class="el" href="ui_status.html">Status Bar</a>. The zoom-1 button (<span class="img zoom_100">zoom to 100%</span>)restores the zoom of 100%.</p>
<div class="image">
<img src="zoom_slider.png" alt=""/>
<div class="caption">
Zoom Slider in the Status Bar</div></div>
<p >Alternatively, you can use the zoom slider in the <a class="el" href="ui_status.html">Status Bar</a>. Shifting the slider left towards <span class="img zoom_out">zoom-out</span> zooms out, towards <span class="img zoom_out">zoom-in</span> zooms in the diagram.</p>
<h2><a class="anchor" id="bm_diagram_zoom_with_menu"></a>
Zooming with the View Menu</h2>
<p >You can zoom the active diagram with the <a class="el" href="ui_menus.html#ui_menu_view">View Menu</a> actions <span class="img zoom_in">zoom-in</span>, <span class="img zoom_out">zoom-out</span>, and <span class="img zoom_100">zoom to 100%</span>.</p>
<h2><a class="anchor" id="bm_diagram_zoom_with_keyboard"></a>
Zooming with the Keyboard</h2>
<p ><img src="img/keyboard.png" alt="" style="float:left; margin-right:10px;" class="inline"/> You can zoom a diagram in and out with the keyboard shortcuts, which are the same as those used in web browsers for zooming websites. The shortcut <span class="button">Ctrl -</span> (Ctrl-minus) zooms out, <span class="button">Ctrl +</span> (Ctrl-plus) zooms in, and <span class="button">Ctr 0</span> (Ctrl-zero) zooms the diagram to 100%.</p>
<h2><a class="anchor" id="bm_diagram_zoom_with_wheel"></a>
Zooming with the Mouse Wheel</h2>
<p ><img src="img/wheel.png" alt="" style="float:left; margin-right:10px;" class="inline"/> Finally, you can zoom the active diagram with the mouse wheel, in similar way as you zoom in or out on Google maps. To activate zoom by the mouse wheel, press the <span class="button">Shift</span> key on your keyboard. Now, rotating the mouse wheel forward zooms out and rotating the wheel backward zooms the diagram in, which is the same convention used in mapping applications, such as Google maps.</p>
<h1><a class="anchor" id="bm_diagram_export"></a>
Exporting Diagrams</h1>
<p >QM&trade; provides a very useful feature of exporting the active diagram to a graphic format, such as <a href="https://en.wikipedia.org/wiki/Scalable_Vector_Graphics" class="extern" target="_blank">Scalable Vector Graphics</a> and <a href="https://en.wikipedia.org/wiki/PNG_format" class="extern" target="_blank">Portable Network Graphics</a> (PNG) raster format. The SVG format is particularly interesting, because this <b>vector</b> format is supported by most web browsers and Microsoft Office/Open Office.</p>
<div style="clear:both;"></div><p ><img src="svg.jpg" alt="" class="inline" title="SVG in Open Office. Note that the vector format looks good at any zoom level."/> <br  />
 </p><dl class="section attention"><dt>Attention</dt><dd>If any shapes are selected in the active diagram, QM&trade; renders only the <b>selected shapes</b> to the graphic format and clips the image size to the smallest bounding rectangle that encompasses all selected shapes. If no shapes are selected, QM&trade; exports the entire diagram to the graphic format and uses the <a class="el" href="bm_diagram.html#bm_diagram_canvas">drawing canvas</a> as the bounding rectangle.</dd></dl>
<h2><a class="anchor" id="bm_diagram_export-file"></a>
Exporting Active Diagram to a Graphic File</h2>
<p >You can export the selected items or the whole active diagram to a graphic file by means of the <span class="menu">File-&gt;Export Diagram...</span> menu. This menu opens up the File Save dialog box to choose the graphic file name and format (currently SVG or PNG) to save.</p>
<p ><img src="diagram_export.png" alt="" class="inline" title="Export diagram to SVG vector formats or PNG raster format"/> <br  />
</p>
<h2><a class="anchor" id="bm_diagram_export-Clipboard"></a>
Copying active diagram to the Clipboard in SVG</h2>
<p >You can also copy the selected items or the whole diagram to the Clipboard in SVG by means of the (<span class="img export_svg">export to SVG</span>) button in the <a class="el" href="ui_toolbars.html#ui_toolbar_edit">Edit Toolbar</a>. Once the SVG image is stored in the Clipboard, you can conveniently paste it directly to Microsoft Office, Open Office, or any other application that accepts SVG.</p>
<div style="clear:both;"></div><hr  />
<p><b>Next:</b> <a class="el" href="bm_edit.html">Working with Code Editors</a></p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.9.1-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">
<a title="Quantum Leaps: Modern Embedded Software" href="https://www.state-machine.com">&copy; 2005-2021 Quantum Leaps</a> &nbsp;| &nbsp; <a title="help" href="help.html">Using Online Help</a>&nbsp;| &nbsp;<a title="Doxygen" href="http://www.doxygen.nl">Generated with Doxygen</a>&nbsp; | &nbsp;<b>QM 5.1.3</b>
<hr class="footer"/><address class="footer"><small>
<a title="Quantum Leaps: Modern Embedded Software" href="https://www.state-machine.com">&copy; Quantum Leaps 2020</a> &nbsp;| &nbsp; <a title="help" href="help.html">Using Online Help</a>&nbsp;| &nbsp;<a title="Doxygen" href="http://www.doxygen.nl">Generated with Doxygen</a>&nbsp; | &nbsp;<b>QM 5.1.3</b>
</small></address>
    </li>
  </ul>
</div>
</body>
</html>
