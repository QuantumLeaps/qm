<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>QM: Working with Initial Transitions</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="doxygen-awesome-darkmode-toggle.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
  $(document).ready(function() { init_search(); });
/* @license-end */
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="ql-awesome.css" rel="stylesheet" type="text/css"/>
<link href="qm.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
  <div id="projectlogo">
    <a href="https://www.state-machine.com" title="Quantum Leaps"><img alt="Logo" src="logo_ql.png"/></a>
  </div>
   <div id="projectname">
    <doxygen-awesome-dark-mode-toggle id="dark-mode-toggle" title="Toggle Light/Dark Mode"></doxygen-awesome-dark-mode-toggle>
    QM
    &nbsp;<span id="projectnumber">5.1.3</span>
   </div>
   <div id="projectbrief">Model-Based Design Tool</div>
   <div style="padding: 0.5em;">        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.svg"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)"
               onblur="searchBox.OnSearchFieldFocus(false)"
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.svg" alt=""/></a>
          </span>
        </div>
</div>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;"
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('sm_init.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0"
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">Working with Initial Transitions </div></div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><li class="level1"><a href="#sm_initial_add">Adding Initial Transition</a></li>
<li class="level1"><a href="#sm_initial_invalid">Invalid Initial Transitions</a></li>
<li class="level1"><a href="#sm_init_prop">Initial Transition Property Sheet</a><ul><li class="level2"><a href="#bm_init-act">Initial Transition Action</a></li>
</ul>
</li>
<li class="level1"><a href="#sm_init-route">Routing Transition Path</a></li>
</ul>
</div>
<div class="textblock"><p >Every state machine needs the <b>top-most initial transition</b>, which originates in an initial pseudostate (black dot) placed directly on the drawing canvas and points to the first active state after the state machine gets initialized. </p>
<p >Additionally, a <em>composite state</em> with nested <em>substates</em> might also have its own <b>nested initial transition</b>, which also originates in an initial pseudostate but placed <em>inside</em> a superstate and points to the default substate that becomes active after the superstate is entered by a transition.</p>
<div style="clear:both;"></div><div class="image">
<img src="sm_init_types.png" alt=""/>
<div class="caption">
Top-Most and Nested Initial Transitions</div></div>
<p >In most UML tools, the process of drawing such initial transitions consists of first adding an initial pseudostate (black dot) and then attaching a transition between it and some state. In QM&trade; this process is simplified, because the <a class="el" href="sm.html#sm_toolbox">State Machine Toolbox</a> contains ready-to-use <span class="img initial">Initial Transition</span> tool, which combines an "initial pseudostate" with a transition attached permanently to it. This tool is used to add both the top-most initial transition and initial transitions nested within superstates.</p>
<h1><a class="anchor" id="sm_initial_add"></a>
Adding Initial Transition</h1>
<p >You select the Initial Transition tool by clicking on the <span class="img initial">button</span> the <a class="el" href="sm.html#sm_toolbox">State Machine Toolbox</a>. At this point, when you hover the mouse over the active state diagram, the mouse pointer changes to the initial transition tool. To add an initial transition, move the mouse to the desired location of the <b>initial pseduostate</b> of the initial transition and press and hold down the left mouse button. At this point the mouse pointer changes to the initial tran with the "forbidden" icon (<span class="img forbidden"></span>). Next, you need to <b>drag</b> the mouse to an <b>edge</b> of the target state. (If you release the mouse button without reaching the target state edge, the QM&trade; tool will delete the transition.) When you drag the mouse pointer over a state edge, the mouse pointer changes to the initial transition with an anchor (<span class="img anchor"></span>), which indicates that you can anchor the end of the initial transition connector at this edge. To anchor the transition, release the mouse button.</p>
<div class="image">
<img src="sm_init-add.gif" alt=""/>
<div class="caption">
Adding Initial Transitions</div></div>
<h1><a class="anchor" id="sm_initial_invalid"></a>
Invalid Initial Transitions</h1>
<p >As you keep working on your state diagram, some initial transition(s) might easily become <b>invalid</b>. For example, after resizing of a state the initial pseudostate (black dot) of an initial transition might fall outside of the state shape, might start targeting a non-substate of the parent state, or a state might "acquire" an additional (second) initial transition. Such invalid initial transitions are shown with <b>dashed line</b>.</p>
<p >The following animation shows how an initial transition can become invalid and how QM&trade; renders it:</p>
<div class="image">
<img src="sm_init-invalid.gif" alt=""/>
<div class="caption">
Invalid Initial Transition</div></div>
<h1><a class="anchor" id="sm_init_prop"></a>
Initial Transition Property Sheet</h1>
<p ><span class="img initial">Initial Transition</span> item can be configured by the Initial Transition-Specific <a class="el" href="ui_prop.html">Property Sheet</a>.</p>
<div class="image">
<img src="sm_init_prop.png" alt=""/>
<div class="caption">
Initial Transition Property Sheet</div></div>
<p >The Initial Transition property sheet contains the following properties:</p><ul>
<li><b>target state</b> (not editable&ndash;determined geometrically)</li>
<li><a class="el" href="sm_init.html#bm_init-act">Initial Transition Action</a></li>
</ul>
<h2><a class="anchor" id="bm_init-act"></a>
Initial Transition Action</h2>
<p >An Initial Transition can have optional <b>action</b>. If defined, the action shows up in the text-box associated with the Initial Transition.</p>
<p >An action is considered defined if the corresponding <b>pseudocode</b> or <b>code</b> boxes in the <a class="el" href="sm_init.html#sm_init_prop">Initial Transition Property Sheet</a> are not empty. Once an action is defined, it is shown in the text box associated with the Initial Transition (following the forward-slash <code>/</code> character).</p>
<dl class="section note"><dt>Note</dt><dd>The <b>pseudocode</b> property is designed to avoid clutter in the diagram by minimizing the amount of text to display beside the transition. <b>Pseudocode</b> is intended only for displaying in the diagram and has <span>no implications for code generation</span>. Only the <b>Code</b> entry of the <em>action</em> property matters for code generation.</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="sm_tran.html#sm_tran-text">How QM displays action code in the text box</a></dd></dl>
<div class="image">
<img src="sm_init-text.gif" alt=""/>
<div class="caption">
Moving and Resizing the Transition Text-Box</div></div>
<p >Once the initial transition is <em>selected</em> as the <a class="el" href="ui_curr_item.html">Current Item</a>, you can <b>move</b> and <b>resize</b> the text-box by dragging it around or dragging the lower-right handle of the box (see the screen animation above).</p>
<h1><a class="anchor" id="sm_init-route"></a>
Routing Transition Path</h1>
<p >All transitions in QM&trade; are <b>rectilinear</b>, meaning that they consist only of horizontal or vertical segments. You can adjust the position of the horizontal segments by dragging them up or down or the vertical segments by dragging them left and right.</p>
<hr  />
<p><b>Next:</b> <a class="el" href="sm_hist.html">Working with Transitions to History</a></p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.9.1-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">
<a title="Quantum Leaps: Modern Embedded Software" href="https://www.state-machine.com">&copy; 2005-2021 Quantum Leaps</a> &nbsp;| &nbsp; <a title="help" href="help.html">Using Online Help</a>&nbsp;| &nbsp;<a title="Doxygen" href="http://www.doxygen.nl">Generated with Doxygen</a>&nbsp; | &nbsp;<b>QM 5.1.3</b>
<hr class="footer"/><address class="footer"><small>
<a title="Quantum Leaps: Modern Embedded Software" href="https://www.state-machine.com">&copy; Quantum Leaps 2020</a> &nbsp;| &nbsp; <a title="help" href="help.html">Using Online Help</a>&nbsp;| &nbsp;<a title="Doxygen" href="http://www.doxygen.nl">Generated with Doxygen</a>&nbsp; | &nbsp;<b>QM 5.1.3</b>
</small></address>
    </li>
  </ul>
</div>
</body>
</html>
