<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>QM: Undo/Redo</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="doxygen-awesome-darkmode-toggle.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
  $(document).ready(function() { init_search(); });
/* @license-end */
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="ql-awesome.css" rel="stylesheet" type="text/css"/>
<link href="qm.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
  <div id="projectlogo">
    <a href="https://www.state-machine.com" title="Quantum Leaps"><img alt="Logo" src="logo_ql.png"/></a>
  </div>
   <div id="projectname">
    <doxygen-awesome-dark-mode-toggle id="dark-mode-toggle" title="Toggle Light/Dark Mode"></doxygen-awesome-dark-mode-toggle>
    QM
    &nbsp;<span id="projectnumber">5.1.3</span>
   </div>
   <div id="projectbrief">Model-Based Design Tool</div>
   <div style="padding: 0.5em;">        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.svg"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)"
               onblur="searchBox.OnSearchFieldFocus(false)"
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.svg" alt=""/></a>
          </span>
        </div>
</div>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;"
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('bm_undo-redo.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0"
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">Undo/Redo </div></div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><li class="level1"><a href="#undo_clean">Clean and Edited Model Indicator</a></li>
<li class="level1"><a href="#bm_undo_stack">The Undo/Redo Stack</a></li>
<li class="level1"><a href="#bm_undo_limit">Undo/Redo Stack Depth Limit</a></li>
<li class="level1"><a href="#bm_undo_text">Undo/Redo and Editing Text</a></li>
</ul>
</div>
<div class="textblock"><p >QM&trade; supports <span class="img undo">&#160;</span> undoing and <span class="img redo">&#160;</span> redoing of all actions that change the model in any way, such as: </p>
<ul>
<li>creating or deleting a model item</li>
<li>changing any property of a model item</li>
<li>changing any graphical element in a diagram</li>
<li>changing canvas size of a diagram</li>
<li>reordering the items in the model</li>
<li>editing a file</li>
</ul>
<dl class="section note"><dt>Note</dt><dd>For the purposes of undo/redo QM&trade; keeps track only of the <b>editing</b> actions listed above and does not keep track of other actions, such as browsing the model, zooming/scrolling of diagrams, etc., which do <b>not</b> change the underlying model.</dd></dl>
<h1><a class="anchor" id="undo_clean"></a>
Clean and Edited Model Indicator</h1>
<p >After opening a model, creating a new model, or saving the model to disk, the model is marked as &ldquo;<b>clean</b>&rdquo;.</p>
<div class="image">
<img src="title_clean.png" alt=""/>
<div class="caption">
Toolbar File</div></div>
<p >Any editing action changes the model status to &ldquo;<b>edited</b>&rdquo;, which shows as a star after the model name in the QM's title bar.</p>
<div class="image">
<img src="title_dirty.png" alt=""/>
<div class="caption">
Toolbar File</div></div>
<p >The model can become "clean" again after the undo actions bring it back to the original state.</p>
<h1><a class="anchor" id="bm_undo_stack"></a>
The Undo/Redo Stack</h1>
<p >QM&trade; keeps track of all model editing actions in the <b>undo/redo stack</b>, which operates as follows.</p>
<div class="image">
<img src="undo_stack.png" alt=""/>
<div class="caption">
Undo stack</div></div>
<p >Every model edit action is pushed on top of the undo/redo stack. If there are any undoable actions above the current top of stack, all these actions get discarded, so that the most recent action sits at the top of stack.</p>
<p >The <span class="img undo">Undo</span> command reverses the effect of the action pointed to by the "top of stack" and moves the top of the stack one level toward the older actions. As long as any editing actions are available for undoing, the undo command is enabled both in the <a class="el" href="ui_menus.html#ui_menu_edit">Edit Menu</a> as well as in the <a class="el" href="ui_toolbars.html#ui_toolbar_edit">Edit Toolbar</a>. The <b>Undo</b> command is also available under the standard keyboard shortcut <b>Ctrl+Z</b>.</p>
<p >The <span class="img redo">Redo</span> command moves the top of the stack one level toward the newer actions and re-applies the action pointed to by the new "top of stack". As long as any actions are available above the current "top of stack", the redo command is enabled both in the <a class="el" href="ui_menus.html#ui_menu_edit">Edit Menu</a> as well as in the <a class="el" href="ui_toolbars.html#ui_toolbar_edit">Edit Toolbar</a>. The <b>Redo</b> command is also available under the standard keyboard shortcut <b>Ctrl+Y</b>.</p>
<dl class="section note"><dt>Note</dt><dd>Unlike most programs with the <a class="el" href="ui_mdi.html">Multiple Document Interface</a> (such as IDEs), which use a separate undo/redo stack for each document, QM&trade; uses just <b>one</b> undo/redo stack for all editing actions. However, when recording actions on the undo stack, QM&trade; keeps track of the various editors/diagrams associated with the actions, so that when you undo the actions QM&trade; can open up the appropriate editor/diagram for each action you undo or redo.</dd></dl>
<h1><a class="anchor" id="bm_undo_limit"></a>
Undo/Redo Stack Depth Limit</h1>
<p >The value of undo/redo is high for recent editing actions, but diminishes quickly for older actions that are pushed down the udno/redo stack. Because the value of the old actions is very low, there is no much use to keep all the undo actions forever. Therefore the depth of the QM&trade; undo stack is limited, currently to <b>16 levels</b> of undo.</p>
<h1><a class="anchor" id="bm_undo_text"></a>
Undo/Redo and Editing Text</h1>
<p >QM&trade; uses text editors extensively to edit action code associated with state machines, to edit files for code generation, and to edit the documentation. The undo/redo feature works for editing text as expected, whereas you can undo each individual edit. However, as soon as you apply an editing actions outside of the current text editor, the QM&trade; undo stack <b>collapses</b> all these editing actions into just one edit.</p>
<hr  />
<p><b>Next:</b> <a class="el" href="bm_lock.html">Locking Model Items</a></p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.9.1-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">
<a title="Quantum Leaps: Modern Embedded Software" href="https://www.state-machine.com">&copy; 2005-2021 Quantum Leaps</a> &nbsp;| &nbsp; <a title="help" href="help.html">Using Online Help</a>&nbsp;| &nbsp;<a title="Doxygen" href="http://www.doxygen.nl">Generated with Doxygen</a>&nbsp; | &nbsp;<b>QM 5.1.3</b>
<hr class="footer"/><address class="footer"><small>
<a title="Quantum Leaps: Modern Embedded Software" href="https://www.state-machine.com">&copy; Quantum Leaps 2020</a> &nbsp;| &nbsp; <a title="help" href="help.html">Using Online Help</a>&nbsp;| &nbsp;<a title="Doxygen" href="http://www.doxygen.nl">Generated with Doxygen</a>&nbsp; | &nbsp;<b>QM 5.1.3</b>
</small></address>
    </li>
  </ul>
</div>
</body>
</html>
