<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>QM: QM Model File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="doxygen-awesome-darkmode-toggle.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
  $(document).ready(function() { init_search(); });
/* @license-end */
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="ql-awesome.css" rel="stylesheet" type="text/css"/>
<link href="qm.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
  <div id="projectlogo">
    <a href="https://www.state-machine.com" title="Quantum Leaps"><img alt="Logo" src="logo_ql.png"/></a>
  </div>
   <div id="projectname">
    <doxygen-awesome-dark-mode-toggle id="dark-mode-toggle" title="Toggle Light/Dark Mode"></doxygen-awesome-dark-mode-toggle>
    QM
    &nbsp;<span id="projectnumber">5.1.3</span>
   </div>
   <div id="projectbrief">Model-Based Design Tool</div>
   <div style="padding: 0.5em;">        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.svg"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)"
               onblur="searchBox.OnSearchFieldFocus(false)"
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.svg" alt=""/></a>
          </span>
        </div>
</div>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;"
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('ui_model_file.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0"
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">QM Model File </div></div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><li class="level1"><a href="#ui_model_xml">QM File XML Format</a><ul><li class="level2"><a href="#ui_model_links">Model Link Comments</a></li>
</ul>
</li>
<li class="level1"><a href="#ui_model_backup">Automatic QM File Backup</a></li>
</ul>
</div>
<div class="textblock"><p >The <a class="el" href="bm_model.html">QM Model</a> is saved between sessions to a <b>QM model file</b> (or to multiple <b>model files</b>, if you use <a class="el" href="bm_package.html#bm_package-extern">External Packages</a>). The QM&trade; model file has the default extension <code>.qm</code>. </p>
<dl class="section note"><dt>Note</dt><dd>This section describes the basic format of a <em>QM model file</em>, as it is stored on disk. Please refer to the Section <a class="el" href="bm_model.html">QM Model</a> for information about the <em>logical structure</em> of the QM model, as it is presented to the user during a QM session.</dd></dl>
<div class="image">
<img src="bm_model-file.png" alt=""/>
<div class="caption">
QM Model File on Disk</div></div>
<dl class="section attention"><dt>Attention</dt><dd>Even though the model file (as well as package files) are in principle human readable, you should <b>not</b> modify them in a general-purpose text editor or an XML editor, because you might break the internal cross-model references embedded into the XML (e.g., a reference from a class to its superclass). Any changes to the model files should be done exclusively by the QM&trade; modeling tool and therefore, to prevent inadvertent modifications, the QM&trade; Model File is saved as <span class="highlight"><b>read-only</b>. </span></dd></dl>
<h1><a class="anchor" id="ui_model_xml"></a>
QM File XML Format</h1>
<p >The <em>QM model file</em>, as well as the <em>QM package files</em> (if external packages are used) are saved in the <a href="http://www.w3.org/XML" class="extern" target="_blank">eXtensible Markup Language (XML)</a> data format.The advantage of using XML is that it is a textual format and can be conveniently handled by any <a href="http://en.wikipedia.org/wiki/Revision_control" class="extern" target="_blank">Version Control System (VCS)</a>.</p>
<div class="image">
<img src="bm_model-xml.png" alt=""/>
<div class="caption">
QM Model File Viewed in an XML Editor</div></div>
<h2><a class="anchor" id="ui_model_links"></a>
Model Link Comments</h2>
<p >Starting from version 4.0.0, QM allows you to save <em>model files</em> with special comments that contain <a class="el" href="bm_fq-name.html">Fully Qualified Item Names</a>. This feature is controlled by the <b>save links</b> property of the <a class="el" href="bm_model.html#bm_model_prop">Model Property Sheet</a>.</p>
<p >The primary usage scenario for this feature is as follows: you have two versions of the same model (e.g., created by two developers working independently, or just two versions created at different times). You can use any text-differencing tool (e.g., <a href="http://winmerge.org/" target="_blank" class="extern">WinMerge</a>) to difference the two model files in XML side-by-side. In such views, you can very easily see both the differences and the model-links.</p>
<div class="image">
<img src="bm_model-diff.png" alt=""/>
<div class="caption">
Side-by-side differencing of QM model files</div></div>
<p >The model-link comments obviously take some additional space in the XML file, but the benefit of having them is that you can easily copy the comment just preceding the difference to the Clipboard (Ctrl-C) and then click on the QM tool and "Paste the Link" (F5). This opens the model element where your models differ. From there, you can typically resolve the merge conflict quite easily <span class="highlight"><b>within QM</b></span>. If you go systematically through all your differences in XML model files, you can be sure that you have addressed all the differences. You need to try it in practice to appreciate the method.</p>
<dl class="section attention"><dt>Attention</dt><dd>You should <span class="highlight"><b>never</b></span> edit your XML model files "manually" outside the QM modeling tool</dd></dl>
<h1><a class="anchor" id="ui_model_backup"></a>
Automatic QM File Backup</h1>
<p >QM can make automatic backups of the <em>QM model file</em> as well as the <em>QM Package Files</em> (if used). This option is enabled by the checkboxk in the <a class="el" href="ui_menus.html#ui_menu_file">File Menu</a>.</p>
<div class="image">
<img src="qm_backups.png" alt=""/>
<div class="caption">
Create Backups option in the File Menu</div></div>
<p >When "Create Backups" is enabled, QM will save the <em>previous</em> version of the model into the file <code>&lt;model&gt;.bak</code> before saving the model into a new file <code>&lt;model&gt;.qm</code>.</p>
<dl class="section note"><dt>Note</dt><dd>QM creates only <b>one level</b> of model backups. The model backup file <code>&lt;model&gt;.bak</code> gets <b>overwritten</b> second and subsequent times the model is saved.</dd></dl>
<hr  />
<p><b>Next:</b> <a class="el" href="ui_session_file.html">QM Session File</a></p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.9.1-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">
<a title="Quantum Leaps: Modern Embedded Software" href="https://www.state-machine.com">&copy; 2005-2021 Quantum Leaps</a> &nbsp;| &nbsp; <a title="help" href="help.html">Using Online Help</a>&nbsp;| &nbsp;<a title="Doxygen" href="http://www.doxygen.nl">Generated with Doxygen</a>&nbsp; | &nbsp;<b>QM 5.1.3</b>
<hr class="footer"/><address class="footer"><small>
<a title="Quantum Leaps: Modern Embedded Software" href="https://www.state-machine.com">&copy; Quantum Leaps 2020</a> &nbsp;| &nbsp; <a title="help" href="help.html">Using Online Help</a>&nbsp;| &nbsp;<a title="Doxygen" href="http://www.doxygen.nl">Generated with Doxygen</a>&nbsp; | &nbsp;<b>QM 5.1.3</b>
</small></address>
    </li>
  </ul>
</div>
</body>
</html>
