<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>QM: Manage Tools Dialog Box</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="doxygen-awesome-darkmode-toggle.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
  $(document).ready(function() { init_search(); });
/* @license-end */
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="ql-awesome.css" rel="stylesheet" type="text/css"/>
<link href="qm.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
  <div id="projectlogo">
    <a href="https://www.state-machine.com" title="Quantum Leaps"><img alt="Logo" src="logo_ql.png"/></a>
  </div>
   <div id="projectname">
    <doxygen-awesome-dark-mode-toggle id="dark-mode-toggle" title="Toggle Light/Dark Mode"></doxygen-awesome-dark-mode-toggle>
    QM
    &nbsp;<span id="projectnumber">5.1.3</span>
   </div>
   <div id="projectbrief">Model-Based Design Tool</div>
   <div style="padding: 0.5em;">        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.svg"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)"
               onblur="searchBox.OnSearchFieldFocus(false)"
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.svg" alt=""/></a>
          </span>
        </div>
</div>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;"
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('ui_tools-dlg.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0"
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">Manage Tools Dialog Box </div></div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><li class="level1"><a href="#ui_tools-dlg_open">Opening the Manage Tools dialog box</a></li>
<li class="level1"><a href="#ui_tools-dlg_env">Setting Environment Variables</a></li>
<li class="level1"><a href="#ui_tools-dlg_config">Configuring an External Tool</a></li>
<li class="level1"><a href="#ui_tools-dlg_gcc">Example: A Tool for Calling GCC Compiler</a></li>
<li class="level1"><a href="#ui_tools-dlg_iar">Example: A Tool for Building an IAR Project</a></li>
</ul>
</div>
<div class="textblock"><p >The <b>Manage Tools</b> dialog box allows you to configure up to 5 different external tools that can be then launched directly from QM&trade; with the keyboard shortcuts <span class="button">F8</span> trough <span class="button">F12</span>. Examples of external tools include <code>make</code> to perform a software build, <code>lint</code> to statically check your code, your own unit tests that run on the host computer, or a command-line tool to download the code to the embedded target, directly from QM with just one key press. The output generated by the external tool will appear in the QM's <a class="el" href="ui_log.html">Log Console</a>. </p>
<dl class="section note"><dt>Note</dt><dd>The external tools that can be launched directly from QM&trade; are not limited to command-line programs only. An external tool can be a GUI application and can be launched as "detached" from QM&trade;.</dd></dl>
<div style="clear:both;"></div><h1><a class="anchor" id="ui_tools-dlg_open"></a>
Opening the Manage Tools dialog box</h1>
<p >To open the <b>Manage Tools</b> dialog box, go to <span class="menu">Tools-&gt;Manage External Tools...</span> menu or press the <span class="img tool_manager">Manage Tools</span> button in the <a class="el" href="ui_toolbars.html#ui_toolbar_tools">Tools Toolbar</a> :</p>
<div class="image">
<img src="manage_tools.png" alt=""/>
<div class="caption">
Manage External Tools dialog</div></div>
<h1><a class="anchor" id="ui_tools-dlg_env"></a>
Setting Environment Variables</h1>
<p >The <b>Environment Variables</b> list at the top of the "Manage External Tools" dialog box allows you to define any number of environment variables for the local process that runs an external tool. These environment variables can then be used inside the path names or as arguments to the launched programs. This is specifically helpful to avoid repetitions of information needed to define a tool or a group of related tools.</p>
<p >The environment variables defined at the top of the "Manage External Tools" dialog box are used in the tool configuration according to the syntax rules of the specific platform on which you run the tools. For example, environment variables on Windows are accessed by placing them between <code>%%</code> characters (e.g., <code>%</code><code>FOO%</code>). Environment variables on Linux are accessed by placing them in the parentheses following the dollar sign (e.g., <code>$</code><code>(FOO)</code>).</p>
<dl class="section note"><dt>Note</dt><dd>The environment variables defined at the top of the "Manage External Tools" dialog box have scope an lifetime limited to the temporary process that is used to lauch an external tool. They only persist during the run of the tool and disappear afterwards.</dd></dl>
<h1><a class="anchor" id="ui_tools-dlg_config"></a>
Configuring an External Tool</h1>
<ul>
<li>Click on the tool you want to configure in the <b>External Tools</b> list in the middle of the dialog box.</li>
<li>Choose an icon for this tool from the <b>Icon</b> combo box. This icon will be displayed in the <a class="el" href="ui_toolbars.html#ui_toolbar_tools">Tools Toolbar</a> and the <a class="el" href="ui_menus.html#ui_menu_tools">Tools Menu</a>.</li>
<li>In the <b>Title</b> box, enter the Title of this tool. The Title is used to identify the tool in the <a class="el" href="ui_menus.html#ui_menu_tools">Tools Menu</a> and will also appear in the "balloon help" when you hover the mouse cursor over the tool button in the <a class="el" href="ui_toolbars.html#ui_toolbar_tools">Tools Toolbar</a>.</li>
<li>In the <b>Command</b> box, enter the file name for invoking the tool. You can either press the <span class="img search_computer">search</span> button to open the standard file-search dialog box or you can type in the file name manually. If the file resides on the system <code>PATH</code>, you can enter just the file name. If not, enter the full absolute path to the file. You can also use a <b>relative</b> path (starting with ".") with respect to the <b>model file</b> location.</li>
<li>If the command needs arguments, you can specify them in the <b>Arguments</b> box. The <span class="img arrow_right"></span> button allows you to choose the pre-defined argument (currently the model file name or the model file path).</li>
<li>Typically, you want your command to start in a specific working directory. For example, the <code>make</code> command needs to start in the directory where the <code>Makefile</code> is located. To specify the initial working directory, type it in manually the <b>Initial Directory</b> box, or you can press the <span class="img search_folder"></span> button to open the standard folder-search dialog box. You can also specify the Initial Directory to be <b>relative</b> path (starting with ".") with respect to the <b>model file</b> location. <span class="highlight"> <b>NOTE:</b> The initial directory is not where the tool is located. The initial directory is the working directory in which the tool starts operating.</span></li>
<li>Check the <b>Generate code before launching</b> box if you want QM to generate the code before running your external tool. <a class="anchor" id="ui_tools-dlg_errors"></a></li>
<li>Check the <b>Show error message box after failure</b> box if you want QM to alert you with a message box about the tool failure.</li>
<li>Check the <b>Start as detached from QM</b> box only if you want the tool to operate independently from QM. This option makes sense only for tools with their own GUI. <span class="highlight"> <b>NOTE:</b> a tool launched as "detached" must be closed explicitly.</span></li>
<li>Press the <span class="button">Save</span> button to save the tool configuration.</li>
</ul>
<dl class="section note"><dt>Note</dt><dd>QM&trade; stores the External Tool configuration in the Settings for the QM&trade; application, which is the same storage that holds the most recently used models or the recent arrangement of the docking windows. These Settings are <b>not</b> part of the model, but rather are specific to the machine on which QM&trade; is installed.</dd></dl>
<h1><a class="anchor" id="ui_tools-dlg_gcc"></a>
Example: A Tool for Calling GCC Compiler</h1>
<p >As a simple example of using an external tool, consider a tool for building the Blinky project discussed in the <a class="el" href="gs_tut.html#gs_tut_build">QM&trade; Tutorial</a>.</p>
<p >The screen shot below shows how to setup the "build Blinky" tool:</p>
<div class="image">
<img src="ui_tool_blinky-build.png" alt=""/>
<div class="caption">
Setting up GCC build</div></div>
<ul>
<li><b>Title</b> property: <code>build Blinky</code></li>
<li><b>Command</b> property: <code>gcc</code> (this assumes that <code>gcc</code> is on the <code>PATH</code>)</li>
<li><b>Arguments</b> property: <code>blinky.c -oblinky.exe -IQPC%\include -IQPC%\ports\win32 -LQPC%\ports\win32\mingw\dbg -lqp</code></li>
<li><b>Initial Directory</b> property: <code>.</code> (model directory)</li>
</ul>
<dl class="section note"><dt>Note</dt><dd>As shown in the screen shot above, in the <b>Arguments:</b> property you can use the pre-defined symbols <code>${ModelPath}</code>, <code>${ModelFile}</code>, and <code>${ModelDir}</code>.</dd></dl>
<h1><a class="anchor" id="ui_tools-dlg_iar"></a>
Example: A Tool for Building an IAR Project</h1>
<p >Many mature embedded toolsets support building projects from command-line, because only such builds can be truly <b>automated</b>. For example, the popular IAR Embedded Workbench toolset supports command-line build of the projects through the <code>IarBuild.exe</code> utility. The following screen shot illustrates how to set up an External Tool to build an IAR project.</p>
<div class="image">
<img src="ui_tool_iar.png" alt=""/>
<div class="caption">
Setting up IAR build</div></div>
<p >The following screen shot shows the QM&trade; <a class="el" href="ui_log.html">Log Console</a> output from building an IAR project.</p>
<div class="image">
<img src="ui_tool_iar-log.png" alt=""/>
<div class="caption">
Log of IAR build</div></div>
<dl class="section note"><dt>Note</dt><dd>In case of the tool failure, the <a class="el" href="ui_log.html">Log Console</a> will show the error status. But, if you checked the <b>Show error message box after failure</b> box for the tool, you will get an additional alert in form of a message box, which can be useful for unit testing.</dd></dl>
<hr  />
<p><b>Next:</b> <a class="el" href="ui_license-dlg.html">Code Generation License Dialog Box</a></p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.9.1-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">
<a title="Quantum Leaps: Modern Embedded Software" href="https://www.state-machine.com">&copy; 2005-2021 Quantum Leaps</a> &nbsp;| &nbsp; <a title="help" href="help.html">Using Online Help</a>&nbsp;| &nbsp;<a title="Doxygen" href="http://www.doxygen.nl">Generated with Doxygen</a>&nbsp; | &nbsp;<b>QM 5.1.3</b>
<hr class="footer"/><address class="footer"><small>
<a title="Quantum Leaps: Modern Embedded Software" href="https://www.state-machine.com">&copy; Quantum Leaps 2020</a> &nbsp;| &nbsp; <a title="help" href="help.html">Using Online Help</a>&nbsp;| &nbsp;<a title="Doxygen" href="http://www.doxygen.nl">Generated with Doxygen</a>&nbsp; | &nbsp;<b>QM 5.1.3</b>
</small></address>
    </li>
  </ul>
</div>
</body>
</html>
